language: python
python:
  - "3.6"

before_install:
  - sudo apt-get -qq update
  - sudo apt-get install -y tree

# command to install dependencies
install: "pip install -r requirements.txt"
# command to run tests
script: PYTHONPATH=src/ pytest

before_deploy:
  - chmod +x wrapper.sh
  - chmod +x parse.sh
  - chmod +x deploy.sh

deploy:
  provider: script
  script: ./wrapper.sh
  skip_cleanup: true
  on:
    all_branches: true