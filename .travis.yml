language: python
python:
  - "3.6"

before_install:
  - sudo apt-get -qq update
  - sudo apt-get install -y tree
  - sudo apt-get install -y poppler-utils

# command to install dependencies
install: "pip install -r requirements.txt"
# command to run tests
script: PYTHONPATH=src/ pytest

before_deploy:
  - chmod +x scripts/wrapper.sh
  - chmod +x scripts/parse.sh
  - chmod +x scripts/deploy.sh

deploy:
  provider: script
  script: scripts/wrapper.sh
  skip_cleanup: true
  on:
    branch: master